<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™‚äº‹äººç”Ÿæ¨¡æ“¬å™¨ Online</title>
    <style>
        :root {
            --bg-color: #1a1a2e;
            --card-color: #16213e;
            --accent-color: #0f3460;
            --text-color: #e94560;
            --main-text: #ffffff;
        }
        body {
            font-family: 'å¾®è»Ÿæ­£é»‘é«”', sans-serif;
            background-color: var(--bg-color);
            color: var(--main-text);
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            text-align: center;
        }
        .dashboard {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            background: var(--card-color);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .stat-box {
            background: var(--accent-color);
            padding: 10px;
            border-radius: 5px;
        }
        #news-ticker {
            background-color: #e94560;
            color: white;
            padding: 10px;
            margin-bottom: 20px;
            border-radius: 5px;
            font-weight: bold;
            animation: fadeIn 1s;
        }
        .log-area {
            height: 200px;
            overflow-y: auto;
            background: #000;
            border: 1px solid #333;
            padding: 10px;
            text-align: left;
            margin-bottom: 20px;
            font-size: 0.9em;
            color: #ddd;
        }
        .log-entry { margin-bottom: 8px; border-bottom: 1px solid #333; padding-bottom: 5px; }
        .year-tag { color: #ffd700; font-weight: bold; }
        .buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        button {
            padding: 15px;
            font-size: 16px;
            cursor: pointer;
            background: var(--text-color);
            color: white;
            border: none;
            border-radius: 5px;
            transition: 0.3s;
        }
        button:hover { opacity: 0.8; }
        button:disabled { background: #555; cursor: not-allowed; }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body>

    <h1>ğŸŒ æ™‚äº‹äººç”Ÿæ¨¡æ“¬å™¨</h1>
    <div id="news-ticker">ğŸ“° é ­æ¢ï¼šéŠæˆ²è¼‰å…¥ä¸­...</div>

    <div class="dashboard">
        <div class="stat-box">ğŸ“… å¹´ä»½: <span id="year">2025</span> (å¹´é½¡: <span id="age">0</span>)</div>
        <div class="stat-box">ğŸ’° è³‡ç”¢: $<span id="money">0</span></div>
        <div class="stat-box">â¤ï¸ å¥åº·: <span id="health">100</span></div>
        <div class="stat-box">ğŸ˜Š å¿«æ¨‚: <span id="happiness">80</span></div>
    </div>

    <div class="log-area" id="game-log">
        </div>

    <div class="buttons">
        <button onclick="nextYear('study')">ğŸ“š å°ˆæ³¨å­¸æ¥­/é€²ä¿®</button>
        <button onclick="nextYear('work')">ğŸ’¼ åŠªåŠ›å·¥ä½œ/è³ºéŒ¢</button>
        <button onclick="nextYear('invest')">ğŸ“ˆ æŠ•è³‡å¸‚å ´ (é¢¨éšª)</button>
        <button onclick="nextYear('relax')">ğŸ® èººå¹³/æ—…éŠ</button>
    </div>

    <script>
        // --- 1. éŠæˆ²è³‡æ–™è¨­å®š ---
        let gameState = {
            startYear: new Date().getFullYear(), // è‡ªå‹•æŠ“å–ä»Šå¹´å¹´ä»½
            currentYear: new Date().getFullYear(),
            age: 0,
            money: 0,
            health: 100,
            happiness: 80,
            alive: true
        };

        // --- 2. æ™‚äº‹è³‡æ–™åº« (ä½ å¯ä»¥éš¨æ™‚æ‰‹å‹•æ›´æ–°é€™è£¡) ---
        // é€™è£¡æ¨¡æ“¬äº†æœªä¾†çš„æ™‚äº‹ï¼Œå¦‚æœä½ æƒ³æ›´æ–°éŠæˆ²ï¼Œåªè¦æ”¹é€™å€‹åˆ—è¡¨å³å¯
        const newsDatabase = {
            2025: "å…¨çƒAIæŠ€è¡“å¤§çˆ†ç™¼ï¼Œè¨±å¤šå‚³çµ±å·¥ä½œé–‹å§‹è¢«å–ä»£ã€‚",
            2026: "å°ç£åŠå°é«”ç”¢æ¥­å†å‰µæ–°é«˜ï¼Œç§‘æŠ€æ–°è²´äººæ•¸æ¿€å¢ã€‚",
            2027: "æ¥µç«¯æ°£å€™å½±éŸ¿ï¼Œç³§é£Ÿåƒ¹æ ¼ä¸Šæ¼²ï¼Œé€šè†¨åš´é‡ã€‚",
            2028: "è™›æ“¬å¯¦å¢ƒ(VR)ç¤¾äº¤æˆç‚ºä¸»æµï¼Œäººå€‘æ¸›å°‘å‡ºé–€ã€‚",
            2029: "ç«æ˜Ÿç§»æ°‘è¨ˆç•«å•Ÿå‹•ï¼Œæ‹›å‹Ÿé¦–æ‰¹å¿—é¡˜è€…ã€‚",
            2030: "å…¨çƒèƒ½æºå±æ©Ÿç·©è§£ï¼Œæ ¸èåˆæŠ€è¡“å–å¾—é‡å¤§çªç ´ã€‚",
            // è¶…éå¹´ä»½å¾Œçš„é è¨­è¨Šæ¯
            "default": "ä¸–ç•ŒæŒçºŒé‹è½‰ï¼Œç§‘æŠ€èˆ‡ç¤¾æœƒæ­£åœ¨ç™¼ç”Ÿå¾®å¦™çš„è®ŠåŒ–..."
        };

        function getNews(year) {
            return newsDatabase[year] || newsDatabase["default"];
        }

        // --- 3. éŠæˆ²é‚è¼¯ ---
        function updateUI() {
            document.getElementById('year').innerText = gameState.currentYear;
            document.getElementById('age').innerText = gameState.age;
            document.getElementById('money').innerText = gameState.money.toLocaleString();
            document.getElementById('health').innerText = gameState.health;
            document.getElementById('happiness').innerText = gameState.happiness;
            
            // æ›´æ–°é ­æ¢
            const news = getNews(gameState.currentYear);
            document.getElementById('news-ticker').innerText = `ğŸ“° ${gameState.currentYear} é ­æ¢ï¼š${news}`;
        }

        function addLog(message) {
            const logArea = document.getElementById('game-log');
            const entry = document.createElement('div');
            entry.className = 'log-entry';
            entry.innerHTML = `<span class="year-tag">${gameState.age}æ­² (${gameState.currentYear})</span>: ${message}`;
            logArea.insertBefore(entry, logArea.firstChild);
        }

        function nextYear(action) {
            if (!gameState.alive) return;

            let logMsg = "";
            let eventMsg = "";
            
            // è¡Œå‹•é‚è¼¯
            if (action === 'study') {
                gameState.money -= 500; // å­¸è²»
                gameState.happiness -= 5;
                logMsg = "ä½ èŠ±äº†ä¸€å¹´æ™‚é–“é€²ä¿®ï¼Œé›–ç„¶èŠ±éŒ¢åˆç´¯ï¼Œä½†æ„Ÿè¦ºè®Šè°æ˜äº†ã€‚";
            } else if (action === 'work') {
                let salary = 30000 + (gameState.age * 500); // å¹´è³‡è¶Šé•·è³ºè¶Šå¤š
                gameState.money += salary;
                gameState.health -= 5;
                gameState.happiness -= 5;
                logMsg = `ä½ åŠªåŠ›å·¥ä½œï¼Œè³ºäº† $${salary}ï¼Œä½†èº«é«”æœ‰é»ç–²æ†Šã€‚`;
            } else if (action === 'invest') {
                // çµåˆæ™‚äº‹å½±éŸ¿ (ç°¡å–®æ¨¡æ“¬)
                const news = getNews(gameState.currentYear);
                let luck = Math.random();
                
                if (news.includes("ä¸Šæ¼²") || news.includes("æ–°é«˜") || news.includes("çªç ´")) {
                    luck += 0.2; // å¥½æ¶ˆæ¯å¢åŠ å‹ç‡
                } else if (news.includes("é€šè†¨") || news.includes("å±æ©Ÿ")) {
                    luck -= 0.2; // å£æ¶ˆæ¯æ¸›å°‘å‹ç‡
                }

                if (luck > 0.5) {
                    let profit = Math.floor(gameState.money * 0.2) + 5000;
                    gameState.money += profit;
                    gameState.happiness += 10;
                    logMsg = `æŠ•è³‡çœ¼å…‰ç²¾æº–ï¼æ­ä¸Šæ™‚äº‹é †é¢¨è»Šï¼Œç²åˆ© $${profit}ï¼`;
                } else {
                    let loss = Math.floor(gameState.money * 0.1) + 2000;
                    gameState.money -= loss;
                    gameState.happiness -= 20;
                    logMsg = `å¸‚å ´å‹•ç›ªï¼Œä½ çš„æŠ•è³‡è™§æäº† $${loss}ã€‚`;
                }
            } else if (action === 'relax') {
                gameState.health += 5;
                gameState.happiness += 10;
                gameState.money -= 1000;
                logMsg = "ä½ æ±ºå®šçµ¦è‡ªå·±æ”¾å€‹å‡ï¼Œèº«å¿ƒéˆéƒ½å¾—åˆ°äº†æ”¾é¬†ã€‚";
            }

            // éš¨æ©Ÿäº‹ä»¶
            if (Math.random() < 0.1) {
                gameState.health -= 20;
                eventMsg = " <br>âš ï¸ çªç™¼ï¼šä½ ç”Ÿäº†ä¸€å ´å¤§ç—…ï¼Œå¥åº·å¤§å¹…ä¸‹é™ï¼";
            }

            // æ›´æ–°æ•¸å€¼
            gameState.age++;
            gameState.currentYear++;
            
            // æª¢æŸ¥ç”Ÿå­˜ç‹€æ…‹
            if (gameState.health <= 0) {
                gameState.alive = false;
                eventMsg += "<br>ğŸ’€ ä½ å› å¥åº·æƒ¡åŒ–å»ä¸–äº†...éŠæˆ²çµæŸã€‚";
                disableButtons();
            } else if (gameState.age >= 100) {
                gameState.alive = false;
                eventMsg += "<br>ğŸ•Šï¸ å£½çµ‚æ­£å¯¢ã€‚";
                disableButtons();
            }

            addLog(logMsg + eventMsg);
            updateUI();
        }

        function disableButtons() {
            const btns = document.querySelectorAll('button');
            btns.forEach(btn => {
                btn.disabled = true;
                btn.innerText = "éŠæˆ²çµæŸ";
            });
        }

        // åˆå§‹åŒ–
        addLog("ä½ å‡ºç”Ÿäº†ï¼æº–å‚™å¥½é¢å°é€™å€‹ä¸–ç•Œäº†å—ï¼Ÿ");
        updateUI();

    </script>
</body>
</html>